<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>WebBot</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) 2016 2017 Akihiro Yamamoto</td></tr><tr><th>License</th><td>AGPLv3</td></tr><tr><th>Maintainer</th><td>https://github.com/ak1211</td></tr><tr><th>Stability</th><td>unstable</td></tr><tr><th>Portability</th><td>POSIX</td></tr><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">WebBot</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>&#12454;&#12455;&#12502;&#12469;&#12452;&#12488;&#12434;&#24033;&#22238;&#12377;&#12427;&#12514;&#12472;&#12517;&#12540;&#12523;&#12391;&#12377;&#12290;</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">newtype</span> <a href="#t:UnexpectedHTMLException">UnexpectedHTMLException</a> = <a href="#v:UnexpectedHTMLException">UnexpectedHTMLException</a> String</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:DontHaveStocksToSellException">DontHaveStocksToSellException</a> = <a href="#v:DontHaveStocksToSellException">DontHaveStocksToSellException</a> String</li><li class="src short"><span class="keyword">data</span> <a href="#t:HTTPSession">HTTPSession</a> = <a href="#v:HTTPSession">HTTPSession</a> {<ul class="subs"><li><a href="#v:sLoginPageURI">sLoginPageURI</a> :: URI</li><li><a href="#v:sManager">sManager</a> :: Manager</li><li><a href="#v:sReqHeaders">sReqHeaders</a> :: RequestHeaders</li><li><a href="#v:sRespCookies">sRespCookies</a> :: CookieJar</li><li><a href="#v:sTopPageHTML">sTopPageHTML</a> :: Text</li></ul>}</li><li class="src short"><a href="#v:fetchPage">fetchPage</a> :: MonadIO m =&gt; Manager -&gt; RequestHeaders -&gt; Maybe CookieJar -&gt; [(ByteString, ByteString)] -&gt; URI -&gt; m (Response ByteString)</li><li class="src short"><a href="#v:login">login</a> :: <a href="Conf.html#t:Info">Info</a> -&gt; URI -&gt; IO (Maybe <a href="WebBot.html#t:HTTPSession">HTTPSession</a>)</li><li class="src short"><a href="#v:logout">logout</a> :: <a href="WebBot.html#t:HTTPSession">HTTPSession</a> -&gt; IO ()</li><li class="src short"><a href="#v:clickLinkText">clickLinkText</a> :: <a href="WebBot.html#t:HTTPSession">HTTPSession</a> -&gt; Text -&gt; [Text] -&gt; IO [Text]</li><li class="src short"><a href="#v:fetchFraHomeAnnounce">fetchFraHomeAnnounce</a> :: <a href="WebBot.html#t:HTTPSession">HTTPSession</a> -&gt; IO <a href="Scraper.html#t:FraHomeAnnounce">FraHomeAnnounce</a></li><li class="src short"><a href="#v:fetchFraStkSell">fetchFraStkSell</a> :: <a href="WebBot.html#t:HTTPSession">HTTPSession</a> -&gt; IO <a href="Scraper.html#t:FraStkSell">FraStkSell</a></li><li class="src short"><a href="#v:fetchFraAstSpare">fetchFraAstSpare</a> :: <a href="WebBot.html#t:HTTPSession">HTTPSession</a> -&gt; IO <a href="Scraper.html#t:FraAstSpare">FraAstSpare</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:SellOrderSet">SellOrderSet</a> = <a href="#v:SellOrderSet">SellOrderSet</a> {<ul class="subs"><li><a href="#v:osPassword">osPassword</a> :: String</li><li><a href="#v:osCode">osCode</a> :: Int</li><li><a href="#v:osNominal">osNominal</a> :: Int</li><li><a href="#v:osPrice">osPrice</a> :: Double</li></ul>}</li><li class="src short"><a href="#v:sellStock">sellStock</a> :: <a href="WebBot.html#t:HTTPSession">HTTPSession</a> -&gt; <a href="WebBot.html#t:SellOrderSet">SellOrderSet</a> -&gt; IO <a href="Scraper.html#t:OrderConfirmed">OrderConfirmed</a></li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:UnexpectedHTMLException" class="def">UnexpectedHTMLException</a> <a href="#t:UnexpectedHTMLException" class="selflink">#</a></p><div class="doc"><p>&#23455;&#34892;&#26178;&#20363;&#22806; : &#20104;&#24819;&#22806;&#12398;HTML</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:UnexpectedHTMLException" class="def">UnexpectedHTMLException</a> String</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:UnexpectedHTMLException" class="caption collapser" onclick="toggleSection('i:UnexpectedHTMLException')">Instances</p><div id="section.i:UnexpectedHTMLException" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:UnexpectedHTMLException:Eq:1" class="instance expander" onclick="toggleSection('i:id:UnexpectedHTMLException:Eq:1')"></span> Eq <a href="WebBot.html#t:UnexpectedHTMLException">UnexpectedHTMLException</a></span> <a href="#t:UnexpectedHTMLException" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:UnexpectedHTMLException:Eq:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="WebBot.html#t:UnexpectedHTMLException">UnexpectedHTMLException</a> -&gt; <a href="WebBot.html#t:UnexpectedHTMLException">UnexpectedHTMLException</a> -&gt; Bool</p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="WebBot.html#t:UnexpectedHTMLException">UnexpectedHTMLException</a> -&gt; <a href="WebBot.html#t:UnexpectedHTMLException">UnexpectedHTMLException</a> -&gt; Bool</p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:UnexpectedHTMLException:Show:2" class="instance expander" onclick="toggleSection('i:id:UnexpectedHTMLException:Show:2')"></span> Show <a href="WebBot.html#t:UnexpectedHTMLException">UnexpectedHTMLException</a></span> <a href="#t:UnexpectedHTMLException" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:UnexpectedHTMLException:Show:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="WebBot.html#t:UnexpectedHTMLException">UnexpectedHTMLException</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="WebBot.html#t:UnexpectedHTMLException">UnexpectedHTMLException</a> -&gt; String</p><p class="src"><a href="#v:showList">showList</a> :: [<a href="WebBot.html#t:UnexpectedHTMLException">UnexpectedHTMLException</a>] -&gt; ShowS</p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:UnexpectedHTMLException:Exception:3" class="instance expander" onclick="toggleSection('i:id:UnexpectedHTMLException:Exception:3')"></span> Exception <a href="WebBot.html#t:UnexpectedHTMLException">UnexpectedHTMLException</a></span> <a href="#t:UnexpectedHTMLException" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:UnexpectedHTMLException:Exception:3" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toException">toException</a> :: <a href="WebBot.html#t:UnexpectedHTMLException">UnexpectedHTMLException</a> -&gt; SomeException</p><p class="src"><a href="#v:fromException">fromException</a> :: SomeException -&gt; Maybe <a href="WebBot.html#t:UnexpectedHTMLException">UnexpectedHTMLException</a></p><p class="src"><a href="#v:displayException">displayException</a> :: <a href="WebBot.html#t:UnexpectedHTMLException">UnexpectedHTMLException</a> -&gt; String</p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:DontHaveStocksToSellException" class="def">DontHaveStocksToSellException</a> <a href="#t:DontHaveStocksToSellException" class="selflink">#</a></p><div class="doc"><p>&#23455;&#34892;&#26178;&#20363;&#22806; : &#26410;&#20445;&#26377;&#26666;&#12398;&#22770;&#21364;&#25351;&#31034;</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:DontHaveStocksToSellException" class="def">DontHaveStocksToSellException</a> String</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:DontHaveStocksToSellException" class="caption collapser" onclick="toggleSection('i:DontHaveStocksToSellException')">Instances</p><div id="section.i:DontHaveStocksToSellException" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:DontHaveStocksToSellException:Eq:1" class="instance expander" onclick="toggleSection('i:id:DontHaveStocksToSellException:Eq:1')"></span> Eq <a href="WebBot.html#t:DontHaveStocksToSellException">DontHaveStocksToSellException</a></span> <a href="#t:DontHaveStocksToSellException" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:DontHaveStocksToSellException:Eq:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="WebBot.html#t:DontHaveStocksToSellException">DontHaveStocksToSellException</a> -&gt; <a href="WebBot.html#t:DontHaveStocksToSellException">DontHaveStocksToSellException</a> -&gt; Bool</p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="WebBot.html#t:DontHaveStocksToSellException">DontHaveStocksToSellException</a> -&gt; <a href="WebBot.html#t:DontHaveStocksToSellException">DontHaveStocksToSellException</a> -&gt; Bool</p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:DontHaveStocksToSellException:Show:2" class="instance expander" onclick="toggleSection('i:id:DontHaveStocksToSellException:Show:2')"></span> Show <a href="WebBot.html#t:DontHaveStocksToSellException">DontHaveStocksToSellException</a></span> <a href="#t:DontHaveStocksToSellException" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:DontHaveStocksToSellException:Show:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="WebBot.html#t:DontHaveStocksToSellException">DontHaveStocksToSellException</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="WebBot.html#t:DontHaveStocksToSellException">DontHaveStocksToSellException</a> -&gt; String</p><p class="src"><a href="#v:showList">showList</a> :: [<a href="WebBot.html#t:DontHaveStocksToSellException">DontHaveStocksToSellException</a>] -&gt; ShowS</p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:DontHaveStocksToSellException:Exception:3" class="instance expander" onclick="toggleSection('i:id:DontHaveStocksToSellException:Exception:3')"></span> Exception <a href="WebBot.html#t:DontHaveStocksToSellException">DontHaveStocksToSellException</a></span> <a href="#t:DontHaveStocksToSellException" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:DontHaveStocksToSellException:Exception:3" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toException">toException</a> :: <a href="WebBot.html#t:DontHaveStocksToSellException">DontHaveStocksToSellException</a> -&gt; SomeException</p><p class="src"><a href="#v:fromException">fromException</a> :: SomeException -&gt; Maybe <a href="WebBot.html#t:DontHaveStocksToSellException">DontHaveStocksToSellException</a></p><p class="src"><a href="#v:displayException">displayException</a> :: <a href="WebBot.html#t:DontHaveStocksToSellException">DontHaveStocksToSellException</a> -&gt; String</p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:HTTPSession" class="def">HTTPSession</a> <a href="#t:HTTPSession" class="selflink">#</a></p><div class="doc"><p>HTTP / HTTPS&#12475;&#12483;&#12471;&#12519;&#12531;&#24773;&#22577;</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:HTTPSession" class="def">HTTPSession</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:sLoginPageURI" class="def">sLoginPageURI</a> :: URI</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:sManager" class="def">sManager</a> :: Manager</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:sReqHeaders" class="def">sReqHeaders</a> :: RequestHeaders</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:sRespCookies" class="def">sRespCookies</a> :: CookieJar</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:sTopPageHTML" class="def">sTopPageHTML</a> :: Text</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><p id="control.i:HTTPSession" class="caption collapser" onclick="toggleSection('i:HTTPSession')">Instances</p><div id="section.i:HTTPSession" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:HTTPSession:Show:1" class="instance expander" onclick="toggleSection('i:id:HTTPSession:Show:1')"></span> Show <a href="WebBot.html#t:HTTPSession">HTTPSession</a></span> <a href="#t:HTTPSession" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:HTTPSession:Show:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="WebBot.html#t:HTTPSession">HTTPSession</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="WebBot.html#t:HTTPSession">HTTPSession</a> -&gt; String</p><p class="src"><a href="#v:showList">showList</a> :: [<a href="WebBot.html#t:HTTPSession">HTTPSession</a>] -&gt; ShowS</p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><a id="v:fetchPage" class="def">fetchPage</a> :: MonadIO m =&gt; Manager -&gt; RequestHeaders -&gt; Maybe CookieJar -&gt; [(ByteString, ByteString)] -&gt; URI -&gt; m (Response ByteString) <a href="#v:fetchPage" class="selflink">#</a></p><div class="doc"><p>url&#12395;&#25509;&#32154;&#12375;&#12390;&#32080;&#26524;&#12434;&#24471;&#12427;&#12388;&#12356;&#12391;&#12395;DB&#12395;&#35352;&#37682;&#12377;&#12427;</p></div></div><div class="top"><p class="src"><a id="v:login" class="def">login</a> :: <a href="Conf.html#t:Info">Info</a> -&gt; URI -&gt; IO (Maybe <a href="WebBot.html#t:HTTPSession">HTTPSession</a>) <a href="#v:login" class="selflink">#</a></p><div class="doc"><p>&#12525;&#12464;&#12452;&#12531;&#12506;&#12540;&#12472;&#12363;&#12425;&#12525;&#12464;&#12452;&#12531;&#12375;&#12390;HTTP&#12475;&#12483;&#12471;&#12519;&#12531;&#24773;&#22577;&#12434;&#36820;&#12377;&#38306;&#25968;</p></div></div><div class="top"><p class="src"><a id="v:logout" class="def">logout</a> :: <a href="WebBot.html#t:HTTPSession">HTTPSession</a> -&gt; IO () <a href="#v:logout" class="selflink">#</a></p><div class="doc"><p>&#12525;&#12464;&#12450;&#12454;&#12488;&#12377;&#12427;&#38306;&#25968;</p></div></div><div class="top"><p class="src"><a id="v:clickLinkText" class="def">clickLinkText</a> :: <a href="WebBot.html#t:HTTPSession">HTTPSession</a> -&gt; Text -&gt; [Text] -&gt; IO [Text] <a href="#v:clickLinkText" class="selflink">#</a></p><div class="doc"><p>linkText&#12434;&#12463;&#12522;&#12483;&#12463;&#12377;&#12427;&#38306;&#25968;</p></div></div><div class="top"><p class="src"><a id="v:fetchFraHomeAnnounce" class="def">fetchFraHomeAnnounce</a> :: <a href="WebBot.html#t:HTTPSession">HTTPSession</a> -&gt; IO <a href="Scraper.html#t:FraHomeAnnounce">FraHomeAnnounce</a> <a href="#v:fetchFraHomeAnnounce" class="selflink">#</a></p><div class="doc"><p>&quot;&#12362;&#30693;&#12425;&#12379;&quot;&#12434;&#24471;&#12427;
  &quot;&#12507;&#12540;&#12512;&quot; -&gt; &quot;&#12362;&#30693;&#12425;&#12379;&quot; &#12398;&#12506;&#12540;&#12472;&#12363;&#12425;&#12473;&#12463;&#12524;&#12452;&#12500;&#12531;&#12464;&#12377;&#12427;&#38306;&#25968;</p></div></div><div class="top"><p class="src"><a id="v:fetchFraStkSell" class="def">fetchFraStkSell</a> :: <a href="WebBot.html#t:HTTPSession">HTTPSession</a> -&gt; IO <a href="Scraper.html#t:FraStkSell">FraStkSell</a> <a href="#v:fetchFraStkSell" class="selflink">#</a></p><div class="doc"><p>&#29694;&#22312;&#12398;&#20445;&#26377;&#26666;&#24773;&#22577;&#12434;&#24471;&#12427;
 &quot;&#26666;&#24335;&#21462;&#24341;&quot; -&gt; &quot;&#29694;&#29289;&#22770;&quot; &#12398;&#12506;&#12540;&#12472;&#12363;&#12425;&#12473;&#12463;&#12524;&#12452;&#12500;&#12531;&#12464;&#12377;&#12427;&#38306;&#25968;</p></div></div><div class="top"><p class="src"><a id="v:fetchFraAstSpare" class="def">fetchFraAstSpare</a> :: <a href="WebBot.html#t:HTTPSession">HTTPSession</a> -&gt; IO <a href="Scraper.html#t:FraAstSpare">FraAstSpare</a> <a href="#v:fetchFraAstSpare" class="selflink">#</a></p><div class="doc"><p>&#29694;&#22312;&#12398;&#36039;&#29987;&#24773;&#22577;&#12434;&#24471;&#12427;
 &quot;&#36039;&#29987;&#29366;&#27841;&quot; -&gt; &quot;&#20313;&#21147;&#24773;&#22577;&quot; &#12398;&#12506;&#12540;&#12472;&#12363;&#12425;&#12473;&#12463;&#12524;&#12452;&#12500;&#12531;&#12464;&#12377;&#12427;&#38306;&#25968;</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:SellOrderSet" class="def">SellOrderSet</a> <a href="#t:SellOrderSet" class="selflink">#</a></p><div class="doc"><p>&#27880;&#25991;&#24773;&#22577;</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:SellOrderSet" class="def">SellOrderSet</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:osPassword" class="def">osPassword</a> :: String</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:osCode" class="def">osCode</a> :: Int</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:osNominal" class="def">osNominal</a> :: Int</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:osPrice" class="def">osPrice</a> :: Double</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><a id="v:sellStock" class="def">sellStock</a> :: <a href="WebBot.html#t:HTTPSession">HTTPSession</a> -&gt; <a href="WebBot.html#t:SellOrderSet">SellOrderSet</a> -&gt; IO <a href="Scraper.html#t:OrderConfirmed">OrderConfirmed</a> <a href="#v:sellStock" class="selflink">#</a></p><div class="doc"><p>&#22770;&#12426;&#27880;&#25991;&#12434;&#20986;&#12377;&#38306;&#25968;</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.18.1</p></div></body></html>